# Микросервисное REST-приложение позволяющее пользователям делиться информацией об интересных событиях и находить компанию для участия в них
___

## Описание
___
Все пользователи могут:
1. Отсортировать список событий либо по количеству просмотров, либо по дате событий;
2. Просмотреть подробную информацию о событии;
3. Посмотреть все категории событий;
4. Посмотреть подборки событий.

Зарегистрированные пользователи могут:
1. Добавить, редактировать, просматривать или удалять событие, созданное им;
2. Подать заявку на участие в интересующем мероприятии;
3. В созданном собой мероприятии подтверждать или отклонять заявки на участие других пользователей;
4. Оставлять комментарии к событиям.

Администратор может:
1. Добавлять, редактировать, удалять подборки событий;
2. Добавлять, редактировать, удалять категории для событий;
3. Модерировать события: публикация или отклонение;
4. Управлять пользователями: добавление, активация, просмотр и удаление.

Жизненный цикл события включает несколько этапов:
1. Создание;
2. Ожидание публикации. В статус ожидания публикации событие переходит сразу после создания;
3. Публикация. В это состояние событие переводит администратор;
4. Отмена публикации. В это состояние событие переходит в двух случаях. Первый — если администратор решил, что его нельзя публиковать. Второй — когда инициатор события решил отменить его на этапе ожидания публикации.

## Стек
___

![Java](https://img.shields.io/badge/Java-11-yellow)
![SpringBoot](https://img.shields.io/badge/SpringBoot-2.7.9-lime)
![SpringDataJPA](https://img.shields.io/badge/SpringDataJPA--blue)
![Docker](https://img.shields.io/badge/Docker--yellow)
![Maven](https://img.shields.io/badge/Maven-3.11.0-purple)
![Lombok](https://img.shields.io/badge/Lombok-1.18.28-red)
![MapStruct](https://img.shields.io/badge/MapStruct-1.5.5-lime)
![PostgreSOL](https://img.shields.io/badge/PostgreSOL--teal)
![H2](https://img.shields.io/badge/H2--orange)
![Swagger](https://img.shields.io/badge/Swagger--blue)

## Принцип работы
___

Микросервисное REST-приложение выполнено с помощью SpringBoot. Реализованы два микросервиса: основной и сервис статистики.
API основного сервиса разделите на три части:
1. Публичная будет доступна без регистрации любому пользователю сети;
2. Закрытая будет доступна только авторизованным пользователям;
3. Административная — для администраторов сервиса.

Сервис статистики выполняет:
1. Сохраняет информацию о количестве обращений пользователей к спискам событий;
2. Сохраняет информацию о количестве обращений пользователей к подробной информации о событии;
3. Дает возможность получения статистики обращения к эндпоинту за выбранную дату.
Сервис статистики отправляет запросы и обрабатывает ответы с помощью RestTemplate, входящего в состав SpringFramework.

 
1. **Хранение данных** реализовано в базе данных. Для тестирования используется H2. Для работы приложения - PostgreSQL. Для доступа к данным используется Spring Data JPA.
2. **Валидация данных** выполняется в моделях при помощи аннотаций Java Bean Validation, а также в сервисном слое.
3. **Обработчик ошибок** используется собственной реализации.

## Документация
___
После скачивания проекта можно посмотреть спецификации API с помощью [онлайн редактора Swagger](https://editor-next.swagger.io/). На верхней панели выберите меню File, затем пункт Import File. Затем по очереди укажите пути к файлам:
* [спецификация к основному сервису](ewm-main-service-spec.json)
* [спецификация к сервису статистики](ewm-stats-service-spec.json)